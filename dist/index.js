"use strict";(self.webpackChunkcapstone_module2_javacript=self.webpackChunkcapstone_module2_javacript||[]).push([[826],{426:(n,t,e)=>{e.d(t,{Z:()=>l});var o=e(81),i=e.n(o),r=e(645),a=e.n(r),c=e(667),s=e.n(c),d=new URL(e(414),e.b),p=a()(i()),u=s()(d);p.push([n.id,`* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: Arial, sans-serif;\n  margin: 0;\n  padding: 0;\n  background-color: #f9f9f9;\n}\n\nheader {\n  background-color: #007bff;\n  color: #fff;\n  padding: 10px;\n  text-align: center;\n}\n\nmain {\n  padding: 20px;\n}\n\n#items-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 20px;\n}\n\n.item {\n  background-color: #fff;\n  border: 1px solid #ccc;\n  padding: 10px;\n  border-radius: 5px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.item h2 {\n  font-size: 18px;\n  margin-bottom: 10px;\n}\n\n.item p {\n  font-size: 14px;\n  color: #444;\n}\n\n.item button {\n  border: none;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-top: 10px;\n}\n\nfooter {\n  background-color: #007bff;\n  color: #fff;\n  text-align: center;\n  padding: 10px;\n}\n\n/* Popup Styles */\n\n.popup__background {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  background: rgba(29, 31, 45, 0.7);\n  backdrop-filter: blur(0.5rem);\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.popup__body {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 90%;\n  max-width: 600px;\n  height: 95%;\n  border-radius: 15px;\n  background: rgb(26 24 24);\n  overflow-y: scroll;\n  scroll-behavior: smooth;\n}\n\n.popup__img-container {\n  width: 82%;\n  max-width: 450px;\n  margin-top: 20px;\n  height: 600px;\n}\n\n.popup__img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 4px;\n}\n\n.popup__details {\n  width: 87%;\n  height: 140px;\n  margin-bottom: 20px;\n  margin-top: 20px;\n  color: #d7d7d7;\n}\n\n.popup__title {\n  text-align: center;\n  margin-bottom: 25px;\n  font-size: 1.8rem;\n  color: #d7d7d7;\n}\n\n.popup__genres,\n.popup__runtime {\n  margin-bottom: 5px;\n  font-size: 1.2rem;\n  font-weight: 500;\n}\n\n.popup__btn_x {\n  display: flex;\n  justify-content: center;\n  align-self: flex-end;\n  border: none;\n  background: none;\n  margin: 15px 14px 0 0;\n}\n\n.img__x {\n  width: 24px;\n}\n\n/* Like Button Styles */\n\n.item-like-btn {\n  width: 24px;\n  height: 27px;\n  background-image: url(${u});\n  background-size: cover;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  margin-top: 10px;\n  background-color: transparent;\n}\n\n.item-like-btn:focus,\n.item-like-btn:hover {\n  background-color: transparent;\n  outline: none; /* This will remove the focus outline */\n}\n\n.item-like-btn:focus,\n.item-like-btn:hover,\n.item-like-btn:active,\n.item-like-btn:visited {\n  border: none;\n}\n\n.item-buttons {\n  display: flex;\n  flex-direction: column;\n}\n\n/* Comments */\n.popoup__comments {\n  width: 90%;\n  margin-top: 10px;\n}\n\n.popup__AddComment {\n  text-align: center;\n  margin-bottom: 14px;\n  display: inline-block;\n  width: 100%;\n  color: #d7d7d7;\n}\n\n.inputs-container {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  min-width: 90%;\n  max-width: 500px;\n  margin-bottom: 20px;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n#username__input,\n#comments__textarea {\n  padding: 10px;\n  border: none;\n  border-radius: 4px;\n}\n\n#comments__texarea {\n  height: 100px;\n  padding: 10px;\n  border: none;\n  border-radius: 4px;\n}\n\n#btn-submit__comments {\n  width: 58%;\n  align-self: center;\n  padding: 13px;\n  border-radius: 6px;\n  margin-top: 2px;\n  min-width: 160px;\n}\n\n.container__comments {\n  display: flex;\n  flex-direction: column;\n  background-color: #d4d4d4;\n  border-radius: 4px;\n  padding: 3px;\n  margin-bottom: 12px;\n}\n\n.comment {\n  background-color: #313131;\n  padding: 10px;\n  margin: 3px;\n  color: #d7d7d7;\n  border-radius: 8px;\n}\n\n.comment-header {\n  color: #d7d7d7;\n  text-align: center;\n  margin-bottom: 13px;\n}\n`,""]);const l=p},645:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e="",o=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),o&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),o&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(n,e,o,i,r){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(o)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var d=0;d<n.length;d++){var p=[].concat(n[d]);o&&a[p[0]]||(void 0!==r&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=r),e&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=e):p[2]=e),i&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=i):p[4]="".concat(i)),t.push(p))}},t}},667:n=>{n.exports=function(n,t){return t||(t={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),t.hash&&(n+=t.hash),/["'() \t\n]|(%20)/.test(n)||t.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var t=[];function e(n){for(var e=-1,o=0;o<t.length;o++)if(t[o].identifier===n){e=o;break}return e}function o(n,o){for(var r={},a=[],c=0;c<n.length;c++){var s=n[c],d=o.base?s[0]+o.base:s[0],p=r[d]||0,u="".concat(d," ").concat(p);r[d]=p+1;var l=e(u),m={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==l)t[l].references++,t[l].updater(m);else{var f=i(m,o);o.byIndex=c,t.splice(c,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function i(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,i){var r=o(n=n||[],i=i||{});return function(n){n=n||[];for(var a=0;a<r.length;a++){var c=e(r[a]);t[c].references--}for(var s=o(n,i),d=0;d<r.length;d++){var p=e(r[d]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}r=s}}},569:n=>{var t={};n.exports=function(n,e){var o=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}},216:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},565:(n,t,e)=>{n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},795:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var o="";e.supports&&(o+="@supports (".concat(e.supports,") {")),e.media&&(o+="@media ".concat(e.media," {"));var i=void 0!==e.layer;i&&(o+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),o+=e.css,i&&(o+="}"),e.media&&(o+="}"),e.supports&&(o+="}");var r=e.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(o,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}},589:n=>{n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},414:(n,t,e)=>{n.exports=e.p+"ec57d7f930e7fb6e6322.svg"},68:(n,t,e)=>{var o=e(379),i=e.n(o),r=e(795),a=e.n(r),c=e(569),s=e.n(c),d=e(565),p=e.n(d),u=e(216),l=e.n(u),m=e(589),f=e.n(m),g=e(426),h={};h.styleTagTransform=f(),h.setAttributes=p(),h.insert=s().bind(null,"head"),h.domAPI=a(),h.insertStyleElement=l(),i()(g.Z,h),g.Z&&g.Z.locals&&g.Z.locals;const b=e.p+"91e7b4ff1fcce8ff954d.svg",x=async n=>{const t=await fetch(`https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/OsSQl2R6ei1KLnLLBTTT/comments?item_id=${n.id}`);(n=>{const t=document.querySelector(".container__comments");t.innerHTML="",Array.isArray(n)&&n.forEach((n=>{t.innerHTML+=`<p class="comment"><strong>${n.username}:</strong> ${n.comment}</p>`}))})(await t.json())},_=document.querySelector(".popup__container"),v=n=>{x(n),_.innerHTML=`\n  <div class="popup__background">  \n  <div class="popup__body">\n    <button class="popup__btn_x"><img class="img__x" src="${b}"></button>\n    <h2 class="popup__title">${n.name}</h2>\n  <div class="popup__img-container">\n  <img class="popup__img" src="${n.image.original}">\n  </div>\n    <div class="popup__details">\n      <p class="popup__genres"><strong>Category:</strong> ${n.genres}</p>\n      <p class="popup__runtime"><strong>Duration:</strong> ${n.runtime} min</p>\n    </div>\n    <div class="popoup__comments">\n    <h2 class="comment-header"></h2>\n    <div class="container__comments">\n    </div>\n    <h2 class="popup__AddComment">Add a Comment</h2>\n    <div class="inputs-container">\n    <input  id="username__input" type="text" placeholder="Your Name">\n    <input id="comments__textarea" placeholder="Your insights">\n    <button id="btn-submit__comments" type="submit">Submit your comment</button>\n    </div>\n    </div>\n  </div>\n  </div>`,document.querySelector(".popup__btn_x").addEventListener("click",(()=>{_.innerHTML=""})),(n=>{const t=document.getElementById("username__input"),e=document.getElementById("comments__textarea");document.getElementById("btn-submit__comments").addEventListener("click",(async()=>{""!==t.value.trim()&&""!==e.value.trim()&&(await(async(n,t,e)=>{const o=await fetch("https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/OsSQl2R6ei1KLnLLBTTT/comments",{method:"POST",body:JSON.stringify({item_id:n.id,username:t.value,comment:e.value}),headers:{"Content-type":"application/json;charset=utf-8"}}),i=await o.text();console.log(i)})(n,t,e),x(n),t.value="",e.value="")}))})(n);const t=document.querySelector(".container__comments");new MutationObserver((()=>{const n=document.querySelectorAll(".comment").length;document.querySelector(".comment-header").textContent=`Comments(${n})`})).observe(t,{childList:!0,subtree:!0})};async function y(n){const t=`https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/${n}/likes`;try{const n=await fetch(t);if(!n.ok)throw new Error("Failed to get likes.");return await n.json()}catch(n){return[]}}function k(){return document.getElementById("items-container").querySelectorAll(".item").length}function w(){return document.querySelectorAll(".comment").length}const T="TsHUjYeYSyNZ9XlIQTrp";async function S(){try{const n=await fetch("https://api.tvmaze.com/shows");return await n.json()}catch(n){return[]}}async function $(n,t){const e=document.getElementById("items-container");e.innerHTML="",n.forEach((n=>{const o=t.find((t=>t.item_id===n.id)),i=o?o.likes:0,r=document.createElement("div");r.className="item",r.innerHTML=`<img class="card__img" src="${n.image.medium}">\n      <h2>${n.name}</h2>\n      <p>${n.summary}</p>\n      <div class="item-buttons">\n        <button class="item-like-btn" data-item-id="${n.id}" aria-label="Like"></button>\n        <p class="like-counter" data-like-count="${i}">${i} Likes</p>\n      </div>\n    `;const a=document.createElement("button");a.innerText="Show Comments",a.addEventListener("click",(()=>v(n))),r.appendChild(a),e.appendChild(r)}))}async function L(n){try{const t=await async function(n,t){const e=`https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/${n}/likes`,o={item_id:t};try{if(!(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok)throw new Error("Failed to create like.");const i=(await y(n)).find((n=>n.item_id===t));return i?i.likes:0}catch(n){return null}}(T,n);if(null!==t){const e=document.querySelector(`[data-item-id="${n}"] + .like-counter`);e.innerText=`${t} Likes`,e.setAttribute("data-like-count",t),localStorage.setItem(`likes_${n}`,t)}}catch(n){}}document.addEventListener("click",(n=>{n.target.matches(".item-like-btn")&&L(n.target.getAttribute("data-item-id"))})),document.addEventListener("DOMContentLoaded",(async()=>{const n=await S();$(n,await y(T)),n.forEach((n=>{const t=n.id,e=document.querySelector(`[data-item-id="${t}"] + .like-counter`),o=localStorage.getItem(`likes_${t}`);e&&null!==o?(e.innerText=`${o} Likes`,e.setAttribute("data-like-count",o)):e&&(e.innerText="0 Likes",e.setAttribute("data-like-count","0"))}));const t=k();document.getElementById("total-items-counter").innerText=`Total Items: ${t}`;const e=w();document.getElementById("total-comments-counter").innerText=`Total Comments: ${e}`,document.querySelectorAll(".item-like-btn").forEach((n=>{L(n.getAttribute("data-item-id"))}))})),async function(){const n=await S();$(n,await y(T)),n.forEach((n=>{const t=n.id,e=document.querySelector(`[data-item-id="${t}"] + .like-counter`),o=localStorage.getItem(`likes_${t}`);e&&null!==o?(e.innerText=`${o} Likes`,e.setAttribute("data-like-count",o)):e&&(e.innerText="0 Likes",e.setAttribute("data-like-count","0"))}));const t=k();document.getElementById("total-items-counter").innerText=`Total Items: ${t}`;const e=w();document.getElementById("total-comments-counter").innerText=`Total Comments: ${e}`}()}},n=>{n(n.s=68)}]);